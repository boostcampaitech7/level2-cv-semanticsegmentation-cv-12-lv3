# ğŸ“‹ Project Overview

![project_image](https://github.com/user-attachments/assets/e03c0c8f-6e48-4a35-88f4-9c15651d73f6)

ë¼ˆëŠ” ìš°ë¦¬ ëª¸ì˜ êµ¬ì¡°ì™€ ê¸°ëŠ¥ì— ì¤‘ìš”í•œ ì˜í–¥ì„ ë¯¸ì¹˜ê¸° ë•Œë¬¸ì—, ì •í™•í•œ ë¼ˆ ë¶„í• ì€ ì˜ë£Œ ì§„ë‹¨ ë° ì¹˜ë£Œ ê³„íšì„ ê°œë°œí•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.

Bone Segmentationì€ ì¸ê³µì§€ëŠ¥ ë¶„ì•¼ì—ì„œ ì¤‘ìš”í•œ ì‘ìš© ë¶„ì•¼ ì¤‘ í•˜ë‚˜ë¡œ, íŠ¹íˆ, ë”¥ëŸ¬ë‹ ê¸°ìˆ ì„ ì´ìš©í•œ ë¼ˆ Segmentationì€ ë§ì€ ì—°êµ¬ê°€ ì´ë£¨ì–´ì§€ê³  ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. ì§ˆë³‘ ì§„ë‹¨ì˜ ëª©ì ìœ¼ë¡œ ë¼ˆì˜ í˜•íƒœë‚˜ ìœ„ì¹˜ê°€ ë³€í˜•ë˜ê±°ë‚˜ ë¶€ëŸ¬ì§€ê±°ë‚˜ ê³¨ì ˆ ë“±ì´ ìˆì„ ê²½ìš°, ê·¸ ë¶€ìœ„ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ì •í™•í•˜ê²Œ íŒŒì•…í•˜ì—¬ ì ì ˆí•œ ì¹˜ë£Œë¥¼ ì‹œí–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ìˆ˜ìˆ  ê³„íšì„ ì„¸ìš°ëŠ”ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜ì‚¬ë“¤ì€ ë¼ˆ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ì—¬ ì–´ë–¤ ì¢…ë¥˜ì˜ ìˆ˜ìˆ ì´ í•„ìš”í•œì§€, ì–´ë–¤ ì¢…ë¥˜ì˜ ì¬ë£Œê°€ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ”ì§€ ë“±ì„ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. ì˜ë£Œì¥ë¹„ ì œì‘ì— í•„ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¸ê³µ ê´€ì ˆì´ë‚˜ ì¹˜ì•„ ì„í”Œë€íŠ¸ë¥¼ ì œì‘í•  ë•Œ ë¼ˆ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ í¬ê¸°ì™€ ëª¨ì–‘ì„ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. ì˜ë£Œ êµìœ¡ì—ì„œë„ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ì‚¬ë“¤ì€ ë³‘íƒœ ë° ë¶€ìƒì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ìˆ˜ìˆ  ê³„íšì„ ê°œë°œí•˜ëŠ” ë° í•„ìš”í•œ ê¸°ìˆ ì„ ì—°ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Input**

- hand bone x-ray ê°ì²´ê°€ ë‹´ê¸´ ì´ë¯¸ì§€ê°€ ëª¨ë¸ì˜ ì¸í’‹ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. segmentation annotationì€ json fileë¡œ ì œê³µë©ë‹ˆë‹¤.

**Output**

- ëª¨ë¸ì€ ê° í´ë˜ìŠ¤(29ê°œ)ì— ëŒ€í•œ í™•ë¥  ë§µì„ ê°–ëŠ” ë©€í‹°ì±„ë„ ì˜ˆì¸¡ì„ ìˆ˜í–‰í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê° í”½ì…€ì„ í•´ë‹¹ í´ë˜ìŠ¤ì— í• ë‹¹í•©ë‹ˆë‹¤.

ìµœì¢…ì ìœ¼ë¡œ ì˜ˆì¸¡ëœ ê²°ê³¼ë¥¼ Run-Length Encoding(RLE) í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ csv íŒŒì¼ë¡œ ì œì¶œí•©ë‹ˆë‹¤.

<br/>

# ğŸ—ƒï¸ Dataset

![image](https://github.com/user-attachments/assets/c2a3a918-6594-4493-8d39-b9c1d0cd8202)
- ì´ë¯¸ì§€ í¬ê¸°
  - **(2048,2048), 3 channel**

- ì–‘ì†ì„ ì´¬ì˜ í–ˆê¸° ë•Œë¬¸ì— ì‚¬ëŒ ë³„ë¡œ ë‘ ì¥ì˜ ì´ë¯¸ì§€ê°€ ì¡´ì¬

<br/>

# ğŸ˜„ Team Member

<table align="center">
    <tr align="center">
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003880%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003955%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003894%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003885%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003890%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
        <td><img src="https://stages.ai/_next/image?url=https%3A%2F%2Faistages-api-public-prod.s3.amazonaws.com%2Fapp%2FUsers%2F00003872%2Fuser_image.png&w=1920&q=75" width="120" height="120" alt=""/></td>
    </tr>
    <tr align="center">
        <td><a href="https://github.com/lkl4502" target="_blank">ì˜¤í™ì„</a></td>
        <td><a href="https://github.com/lexxsh" target="_blank">ì´ìƒí˜</a></td>
        <td><a href="https://github.com/yejin-s9" target="_blank">ì´ì˜ˆì§„</a></td>
        <td><a href="https://github.com/Haneol-Kijm" target="_blank">ê¹€í•œì–¼</a></td>
        <td><a href="https://github.com/PGSammy" target="_blank">ì¡°ì¬ë§Œ</a></td>
        <td><a href="https://github.com/oweixx" target="_blank">ë°©ë¯¼í˜</a></td>
    </tr>
    <tr align="center">
        <td>T7208</td>
        <td>T7221</td>
        <td>T7225</td>
        <td>T7138</td>
        <td>T7253</td>
        <td>T7158</td>
    </tr>
</table>

<br />

# ğŸ§³ Project Progress Summary

ì•„ë˜ì˜ í•­ëª©ë“¤ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•œ ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.

<br>

## Project Structure
```
ğŸ“¦ level2-cv-12
 â”£ ğŸ“‚ configs
 â”ƒ â”— ğŸ“œ base_train.yaml
 â”ƒ
 â”£ ğŸ“‚ loss
 â”ƒ â”£ ğŸ“œ base_loss.py
 â”ƒ â”£ ğŸ“œ combined_loss.py
 â”ƒ â”£ ğŸ“œ dice_loss.py
 â”ƒ â”£ ğŸ“œ focal_loss.py
 â”ƒ â”£ ğŸ“œ jaccard_loss.py
 â”ƒ â”£ ğŸ“œ tversky_loss.py
 â”ƒ â”— ğŸ“œ loss_selector.py
 â”ƒ
 â”£ ğŸ“‚ models
 â”ƒ â”£ ğŸ“œ base_model.py
 â”ƒ â”£ ğŸ“œ model_selector.py
 â”ƒ â”£ ğŸ“œ effisegnet.py
 â”ƒ â”£ ğŸ“œ mask2former.py  
 â”ƒ â”£ ğŸ“œ segformer.py
 â”ƒ â”£ ğŸ“œ swin_unet.py
 â”ƒ â”£ ğŸ“œ swin_unet_base.py
 â”ƒ â”£ ğŸ“œ unet_transform.py
 â”ƒ â”— ğŸ“œ upernet.py         
 â”ƒ
 â”£ ğŸ“‚ scheduler
 â”ƒ â”— ğŸ“œ scheduler_selector.py
 â”ƒ
 â”£ ğŸ“‚ utils
 â”ƒ â”£ ğŸ“œ Crop_wrist_class.py
 â”ƒ â”£ ğŸ“œ Offline_augmentation.py
 â”ƒ â”£ ğŸ“œ Rotate_finger_class.py
 â”ƒ â”£ ğŸ“œ change_class.py
 â”ƒ â”£ ğŸ“œ hard_voting_ensemble.ipynb
 â”ƒ â”£ ğŸ“œ masked_image_del.py
 â”ƒ â”£ ğŸ“œ masked_image_gan.py
 â”ƒ â”£ ğŸ“œ notion.py
 â”ƒ â”£ ğŸ“œ soft_voting.py
 â”ƒ â”— ğŸ“œ wandb.py
 â”ƒ
 â”£ ğŸ“‚ EDA
 â”ƒ â”£ ğŸ“œ EDA.ipynb
 â”ƒ â”£ ğŸ“œ Output_Visualization.ipynb
 â”ƒ â”£ ğŸ“œ Transform.ipynb 
 â”ƒ â”£ ğŸ“œ Test_data_angle_analysis.ipynb  
 â”ƒ â”— ğŸ“œ Masked_Visualization.ipynb
 â”ƒ
 â”£ ğŸ“œ train.py
 â”£ ğŸ“œ trainer.py                      
 â”£ ğŸ“œ inference.py                   
 â”£ ğŸ“œ dataset.py             
 â”— ğŸ“œ README.md
```

<br/>

## ğŸ¦´ Offline Augmentation

> ### Masked

![image](https://github.com/user-attachments/assets/529d822e-a0e4-494a-8ace-c4ac4950fb1b)

- ê¸°ì¡´ Trainì˜ imgì™€ GTê°€ ë‹´ê¸´ JSONì„ ì´ìš©í•˜ì—¬ ê° í´ë˜ìŠ¤ ë¶€ë¶„ë§Œ Maskingëœ imgë¥¼ Offline Augmentationìœ¼ë¡œ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

> ### Rotate, Crop

![image](https://github.com/user-attachments/assets/d0e2434d-c0b7-4be3-a8f8-0cd5f873e933)

- ì´ë¯¸ ì†ëª©ì´ ëŒì•„ê°€ ìˆëŠ” ë°ì´í„°ë¥¼ ì œì™¸í•˜ê³  finger ë¶€ë¶„ë§Œ Maskingí•˜ì—¬ 40~50ë„ Rotate ì ìš©ì‹œí‚¨ imgë¥¼ Offline Augmentationìœ¼ë¡œ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

> ### í´ë˜ìŠ¤ íŠ¹í™”

![image](https://github.com/user-attachments/assets/c5f44439-54a7-4b19-a047-402c3d6e9241)

- Maskedë¥¼ ì ìš©í•œ imgì—ì„œ fingerë¥¼ ì œì™¸í•œ ì†ë“±ë¼ˆë¶€ë¶„ ì¤‘ valì ìˆ˜ê°€ ë¹„êµì  ë‚®ì€ trapzoid, pisiform ë‘ê°€ì§€ í´ë˜ìŠ¤ë§Œ GTë¡œ ì„¤ì •í•˜ì—¬ Offline Augmentationìœ¼ë¡œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.


<br/>

## ğŸ† Project Result

**_<p align=center>Public Leader Board</p>_**
<!-- <img src="" alt="Public Leader Board" >-->

<br>

**_<p align=center>Private Leader Board</p>_**
<!-- <img src="" alt="Private Leader Board" >-->

<br/>

## ğŸ”— Reference

<!--### [ğŸ“ Semantic Segmentation Wrap-UP Report]()

### [ğŸ“ Semantic Segmentation Notion]() -->

<br>

## Commit Convention
1. `Feature` âœ¨ **ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€**
2. `Bug` ğŸ›Â **ë²„ê·¸ ìˆ˜ì •**
3. `Docs` ğŸ“ **ë¬¸ì„œ ìˆ˜ì •**
4. `Refactor` â™»ï¸ **ì½”ë“œ ë¦¬í™í† ë§**

ì»¤ë°‹í•  ë•Œ í—¤ë”ì— ìœ„ ë‚´ìš©ì„ ì‘ì„±í•˜ê³  ì „ë°˜ì ì¸ ë‚´ìš©ì„ ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.

### ì˜ˆì‹œ

- `git commit -m "[#ì´ìŠˆë²ˆí˜¸] âœ¨ feat ê°„ë‹¨í•˜ê²Œ ì„¤ëª…" `
- `git commit -m "[#ì´ìŠˆë²ˆí˜¸] ğŸ› bug ê°„ë‹¨í•˜ê²Œ ì„¤ëª…"`
- `git commit -m "[#ì´ìŠˆë²ˆí˜¸] ğŸ“ docs ê°„ë‹¨í•˜ê²Œ ì„¤ëª…" `
- `git commit -m "[#ì´ìŠˆë²ˆí˜¸] â™»ï¸ refactor ê°„ë‹¨í•˜ê²Œ ì„¤ëª…" `

<br/>

## Branch Naming Convention

ë¸Œëœì¹˜ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ ë•Œ, ë¸Œëœì¹˜ ì´ë¦„ì€ í•­ìƒ ìœ„ `Commit Convention`ì˜ Headerì™€ í•¨ê»˜ ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### ì˜ˆì‹œ

- `Feature/~~~`
- `Refactor/~~~`
